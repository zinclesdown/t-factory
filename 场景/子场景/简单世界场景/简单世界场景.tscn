[gd_scene load_steps=11 format=4 uid="uid://cojnnr234nlqm"]

[ext_resource type="Script" uid="uid://bbd1aw0y8s34s" path="res://场景/子场景/简单世界场景/简单世界场景.gd" id="1_iys2p"]
[ext_resource type="PackedScene" uid="uid://blllr8yma4ogw" path="res://组件/TileMap相关/通用世界TileMap组件/通用世界TileMap组件.tscn" id="2_8aw1f"]
[ext_resource type="PackedScene" uid="uid://57px8disfvqf" path="res://组件/TileMap相关/通用建筑物TileMap组件/通用建筑物TileMap组件.tscn" id="3_aph50"]
[ext_resource type="PackedScene" uid="uid://br2y11xrqotgj" path="res://组件/角色实体/玩家/玩家角色.tscn" id="4_7oudw"]
[ext_resource type="PackedScene" uid="uid://dxavnqyei1ecw" path="res://组件/子场景内实例/构筑物蓝图与实例/机枪塔/机枪塔构筑物.tscn" id="7_5kt3b"]
[ext_resource type="Texture2D" uid="uid://cp51arhdpf4fw" path="res://资源/图像/UI/mouse.png" id="8_4t4vc"]
[ext_resource type="PackedScene" uid="uid://cmugc0xu3wc5h" path="res://组件/子场景内实例/构筑物蓝图与实例/特斯拉塔/特斯拉塔_构筑物.tscn" id="8_8eyk4"]
[ext_resource type="PackedScene" uid="uid://c4p0te8jin2th" path="res://组件/角色实体/飞行怪/飞行远程攻击敌人角色.tscn" id="8_aph50"]
[ext_resource type="PackedScene" uid="uid://wmxmiw8v73j3" path="res://组件/角色实体/测试用我方对话角色/测试用我方对话角色.tscn" id="9_vresp"]

[sub_resource type="NavigationPolygon" id="NavigationPolygon_aph50"]
vertices = PackedVector2Array(1066, 554, 1404.55, 779, -157.617, 779, 22, 554, -121.367, -191.961, -10, 234, 1362.42, -186.031, 1066, 246, 330, 42, 330, -10, 694, 246, -10, -10, 650, 246, 42, 234, 42, 42, 694, 374, 650, 374, 22, 246)
polygons = Array[PackedInt32Array]([PackedInt32Array(0, 1, 2, 3), PackedInt32Array(3, 2, 4, 5), PackedInt32Array(6, 1, 0, 7), PackedInt32Array(8, 9, 6, 7, 10), PackedInt32Array(4, 6, 9, 11), PackedInt32Array(12, 13, 14, 8, 10), PackedInt32Array(10, 15, 16, 12), PackedInt32Array(13, 12, 17, 5), PackedInt32Array(5, 17, 3), PackedInt32Array(4, 11, 5)])
outlines = Array[PackedVector2Array]([PackedVector2Array(-131, -202, -168, 789, 1415, 789, 1372, -196)])

[node name="简单场景" type="Node2D" node_paths=PackedStringArray("可放置建筑层", "蓝图显示层")]
script = ExtResource("1_iys2p")
"可放置建筑层" = NodePath("NavigationRegion2D/通用建筑物TileMap组件")
"蓝图显示层" = NodePath("蓝图显示层")

[node name="NavigationRegion2D" type="NavigationRegion2D" parent="."]
navigation_polygon = SubResource("NavigationPolygon_aph50")

[node name="通用世界TileMap组件" parent="NavigationRegion2D" instance=ExtResource("2_8aw1f")]
tile_map_data = PackedByteArray("AAABAAgAAAABAAEAAAABAAkAAAABAAIAAAACAAgAAAABAAEAAAACAAkAAAABAAIAAAADAAgAAAABAAEAAAADAAkAAAABAAIAAAAEAAgAAAABAAEAAAAEAAkAAAABAAIAAAAFAAgAAAABAAEAAAAFAAkAAAABAAIAAAAGAAgAAAABAAEAAAAGAAkAAAABAAIAAAAHAAgAAAADAAEAAAAHAAkAAAABAAIAAAAIAAgAAAADAAEAAAAIAAkAAAABAAIAAAAJAAgAAAADAAEAAAAJAAkAAAABAAIAAAAKAAgAAAADAAEAAAAKAAkAAAABAAIAAAALAAgAAAADAAEAAAALAAkAAAABAAIAAAAMAAgAAAADAAEAAAAMAAkAAAABAAIAAAANAAgAAAADAAEAAAANAAkAAAABAAIAAAAOAAgAAAABAAEAAAAOAAkAAAABAAIAAAAPAAgAAAABAAEAAAAPAAkAAAABAAIAAAAQAAgAAAABAAEAAAAQAAkAAAABAAIAAAARAAgAAAABAAEAAAARAAkAAAABAAIAAAASAAgAAAABAAEAAAASAAkAAAABAAIAAAATAAgAAAABAAEAAAATAAkAAAABAAIAAAAWAAgAAAABAAEAAAAWAAkAAAADAAEAAAAXAAgAAAABAAEAAAAXAAkAAAADAAEAAAAYAAgAAAABAAEAAAAYAAkAAAABAAIAAAAZAAgAAAADAAEAAAAZAAkAAAABAAIAAAAaAAgAAAADAAEAAAAaAAkAAAABAAIAAAAbAAgAAAADAAEAAAAbAAkAAAABAAIAAAAcAAgAAAABAAEAAAAcAAkAAAABAAIAAAAdAAgAAAABAAEAAAAdAAkAAAABAAIAAAAeAAgAAAABAAEAAAAeAAkAAAABAAIAAAAfAAgAAAABAAEAAAAfAAkAAAABAAIAAAAgAAgAAAABAAEAAAAgAAkAAAABAAIAAAABAAoAAAABAAIAAAABAAsAAAABAAIAAAABAAwAAAABAAIAAAABAA0AAAABAAIAAAABAA4AAAABAAIAAAABAA8AAAABAAIAAAABABAAAAABAAIAAAACAAoAAAABAAIAAAACAAsAAAABAAIAAAACAAwAAAABAAIAAAACAA0AAAABAAIAAAACAA4AAAABAAIAAAACAA8AAAABAAIAAAACABAAAAABAAIAAAADAAoAAAABAAIAAAADAAsAAAABAAIAAAADAAwAAAABAAIAAAADAA0AAAABAAIAAAADAA4AAAABAAIAAAADAA8AAAABAAIAAAADABAAAAABAAIAAAAEAAoAAAABAAIAAAAEAAsAAAABAAIAAAAEAAwAAAABAAIAAAAEAA0AAAABAAIAAAAEAA4AAAABAAIAAAAEAA8AAAABAAIAAAAEABAAAAABAAIAAAAFAAoAAAABAAIAAAAFAAsAAAABAAIAAAAFAAwAAAABAAIAAAAFAA0AAAABAAIAAAAFAA4AAAABAAIAAAAFAA8AAAABAAIAAAAFABAAAAABAAIAAAAGAAoAAAABAAIAAAAGAAsAAAABAAIAAAAGAAwAAAABAAIAAAAGAA0AAAABAAIAAAAGAA4AAAABAAIAAAAGAA8AAAABAAIAAAAGABAAAAABAAIAAAAHAAoAAAABAAIAAAAHAAsAAAABAAIAAAAHAAwAAAABAAIAAAAHAA0AAAABAAIAAAAHAA4AAAABAAIAAAAHAA8AAAABAAIAAAAHABAAAAABAAIAAAAIAAoAAAABAAIAAAAIAAsAAAABAAIAAAAIAAwAAAABAAIAAAAIAA0AAAABAAIAAAAIAA4AAAABAAIAAAAIAA8AAAABAAIAAAAIABAAAAABAAIAAAAJAAoAAAABAAIAAAAJAAsAAAABAAIAAAAJAAwAAAABAAIAAAAJAA0AAAABAAIAAAAJAA4AAAABAAIAAAAJAA8AAAABAAIAAAAJABAAAAABAAIAAAAKAAoAAAABAAIAAAAKAAsAAAABAAIAAAAKAAwAAAABAAIAAAAKAA0AAAABAAIAAAAKAA4AAAABAAIAAAAKAA8AAAABAAIAAAAKABAAAAABAAIAAAALAAoAAAABAAIAAAALAAsAAAABAAIAAAALAAwAAAABAAIAAAALAA0AAAABAAIAAAALAA4AAAABAAIAAAALAA8AAAABAAIAAAALABAAAAABAAIAAAAMAAoAAAABAAIAAAAMAAsAAAADAAEAAAAMAAwAAAABAAIAAAAMAA0AAAABAAIAAAAMAA4AAAABAAIAAAAMAA8AAAABAAIAAAAMABAAAAABAAIAAAANAAoAAAABAAIAAAANAAsAAAADAAEAAAANAAwAAAABAAIAAAANAA0AAAABAAIAAAANAA4AAAABAAIAAAANAA8AAAABAAIAAAANABAAAAABAAIAAAAOAAoAAAABAAIAAAAOAAsAAAADAAEAAAAOAAwAAAABAAIAAAAOAA0AAAABAAIAAAAOAA4AAAABAAIAAAAOAA8AAAABAAIAAAAOABAAAAABAAIAAAAPAAoAAAABAAIAAAAPAAsAAAABAAIAAAAPAAwAAAABAAIAAAAPAA0AAAABAAIAAAAPAA4AAAABAAIAAAAPAA8AAAABAAIAAAAPABAAAAABAAIAAAAQAAoAAAABAAIAAAAQAAsAAAABAAIAAAAQAAwAAAABAAIAAAAQAA0AAAABAAIAAAAQAA4AAAABAAIAAAAQAA8AAAABAAIAAAAQABAAAAABAAIAAAARAAoAAAABAAIAAAARAAsAAAABAAIAAAARAAwAAAABAAIAAAARAA0AAAABAAIAAAARAA4AAAABAAIAAAARAA8AAAABAAIAAAARABAAAAABAAIAAAASAAoAAAABAAIAAAASAAsAAAABAAIAAAASAAwAAAABAAIAAAASAA0AAAABAAIAAAASAA4AAAABAAIAAAASAA8AAAABAAIAAAASABAAAAABAAIAAAATAAoAAAABAAIAAAATAAsAAAABAAIAAAATAAwAAAABAAIAAAATAA0AAAABAAIAAAATAA4AAAABAAIAAAATAA8AAAABAAIAAAATABAAAAABAAIAAAAUAAwAAAABAAIAAAAUAA0AAAABAAIAAAAUAA4AAAABAAIAAAAUAA8AAAABAAIAAAAUABAAAAABAAIAAAAVAAwAAAABAAIAAAAVAA0AAAABAAIAAAAVAA4AAAABAAIAAAAVAA8AAAABAAIAAAAVABAAAAABAAIAAAAWAAoAAAABAAIAAAAWAAsAAAABAAIAAAAWAAwAAAABAAIAAAAWAA0AAAABAAIAAAAWAA4AAAABAAIAAAAWAA8AAAABAAIAAAAWABAAAAABAAIAAAAXAAoAAAABAAIAAAAXAAsAAAABAAIAAAAXAAwAAAABAAIAAAAXAA0AAAABAAIAAAAXAA4AAAABAAIAAAAXAA8AAAABAAIAAAAXABAAAAABAAIAAAAYAAoAAAABAAIAAAAYAAsAAAABAAIAAAAYAAwAAAABAAIAAAAYAA0AAAABAAIAAAAYAA4AAAABAAIAAAAYAA8AAAABAAIAAAAYABAAAAABAAIAAAAZAAoAAAABAAIAAAAZAAsAAAABAAIAAAAZAAwAAAABAAIAAAAZAA0AAAABAAIAAAAZAA4AAAABAAIAAAAZAA8AAAABAAIAAAAZABAAAAABAAIAAAAaAAoAAAABAAIAAAAaAAsAAAABAAIAAAAaAAwAAAABAAIAAAAaAA0AAAABAAIAAAAaAA4AAAABAAIAAAAaAA8AAAABAAIAAAAaABAAAAABAAIAAAAbAAoAAAABAAIAAAAbAAsAAAABAAIAAAAbAAwAAAABAAIAAAAbAA0AAAABAAIAAAAbAA4AAAABAAIAAAAbAA8AAAABAAIAAAAbABAAAAABAAIAAAAcAAoAAAABAAIAAAAcAAsAAAABAAIAAAAcAAwAAAABAAIAAAAcAA0AAAABAAIAAAAcAA4AAAABAAIAAAAcAA8AAAABAAIAAAAcABAAAAABAAIAAAAdAAoAAAABAAIAAAAdAAsAAAABAAIAAAAdAAwAAAABAAIAAAAdAA0AAAABAAIAAAAdAA4AAAABAAIAAAAdAA8AAAABAAIAAAAdABAAAAABAAIAAAAeAAoAAAABAAIAAAAeAAsAAAABAAIAAAAeAAwAAAABAAIAAAAeAA0AAAABAAIAAAAeAA4AAAABAAIAAAAeAA8AAAABAAIAAAAeABAAAAABAAIAAAAfAAoAAAABAAIAAAAfAAsAAAABAAIAAAAfAAwAAAABAAIAAAAfAA0AAAABAAIAAAAfAA4AAAABAAIAAAAfAA8AAAABAAIAAAAfABAAAAABAAIAAAAgAAoAAAABAAIAAAAgAAsAAAABAAIAAAAgAAwAAAABAAIAAAAgAA0AAAABAAIAAAAgAA4AAAABAAIAAAAgAA8AAAABAAIAAAAgABAAAAABAAIAAAAAAAAAAAABAAEAAAAAAAEAAAABAAEAAAAAAAIAAAABAAEAAAAAAAMAAAABAAEAAAAAAAQAAAABAAEAAAAAAAUAAAABAAEAAAAAAAYAAAABAAEAAAABAAAAAAABAAEAAAACAAAAAAABAAEAAAADAAAAAAABAAEAAAAEAAAAAAABAAEAAAAFAAAAAAABAAEAAAAGAAAAAAABAAEAAAAHAAAAAAABAAEAAAAIAAAAAAABAAEAAAAJAAAAAAABAAEAAAA=")

[node name="通用建筑物TileMap组件" parent="NavigationRegion2D" instance=ExtResource("3_aph50")]

[node name="蓝图显示层" type="Node2D" parent="."]
unique_name_in_owner = true

[node name="玩家角色" parent="." instance=ExtResource("4_7oudw")]
position = Vector2(659, 197)

[node name="建筑物建造者组件" parent="玩家角色" index="5" node_paths=PackedStringArray("构筑物蓝图显示层", "构筑物放置层")]
"构筑物蓝图显示层" = NodePath("../../蓝图显示层")
"构筑物放置层" = NodePath("../../NavigationRegion2D/通用建筑物TileMap组件")

[node name="调试层" type="CanvasLayer" parent="."]

[node name="PanelContainer" type="PanelContainer" parent="调试层"]
visible = false
anchors_preset = 1
anchor_left = 1.0
anchor_right = 1.0
offset_left = -342.0
offset_bottom = 163.0
grow_horizontal = 0

[node name="构筑物表信息" type="RichTextLabel" parent="调试层/PanelContainer"]
unique_name_in_owner = true
custom_minimum_size = Vector2(32, 0)
layout_mode = 2
text = "当前手持建筑物： {0}asdawsasdsadsa
asdawasadawdawdwadawdwsad
zaw"
autowrap_mode = 1

[node name="手持建筑物" type="VBoxContainer" parent="调试层"]
visible = false
offset_right = 280.0
offset_bottom = 130.0
metadata/_edit_group_ = true

[node name="切换到_试作型投射物防御塔" type="Button" parent="调试层/手持建筑物"]
layout_mode = 2
text = "试作型投射物防御塔"

[node name="切换到_试作型电弧防御塔" type="Button" parent="调试层/手持建筑物"]
layout_mode = 2
text = "试作型电弧防御塔"

[node name="切换到_建筑房子" type="Button" parent="调试层/手持建筑物"]
layout_mode = 2
text = "建筑房子"

[node name="切换到_无蓝图" type="Button" parent="调试层/手持建筑物"]
layout_mode = 2
text = "无蓝图"

[node name="Label" type="Label" parent="调试层/手持建筑物"]
layout_mode = 2
text = "当前手持建筑物： {0}"

[node name="鼠标跟随" type="Marker2D" parent="调试层"]
unique_name_in_owner = true
visible = false
metadata/_edit_group_ = true

[node name="鼠标Label" type="Label" parent="调试层/鼠标跟随"]
unique_name_in_owner = true
offset_left = 5.0
offset_top = 42.0
offset_right = 45.0
offset_bottom = 58.0
text = "鼠标跟随文本"

[node name="Sprite2D" type="Sprite2D" parent="调试层/鼠标跟随"]
visible = false
texture = ExtResource("8_4t4vc")
centered = false

[node name="机枪塔构筑物" parent="." instance=ExtResource("7_5kt3b")]
position = Vector2(399, -11)

[node name="特斯拉塔构筑物" parent="." instance=ExtResource("8_8eyk4")]
position = Vector2(533, -23)

[node name="飞行敌人角色" parent="." instance=ExtResource("8_aph50")]
position = Vector2(339, 142)

[node name="测试用我方对话角色" parent="." instance=ExtResource("9_vresp")]
position = Vector2(399, 212)

[node name="测试用我方对话角色2" parent="." instance=ExtResource("9_vresp")]
position = Vector2(589, 226)

[node name="测试用我方对话角色3" parent="." instance=ExtResource("9_vresp")]
position = Vector2(846, 150)

[connection signal="pressed" from="调试层/手持建筑物/切换到_试作型投射物防御塔" to="." method="_on_切换到_试作型投射物防御塔_pressed"]
[connection signal="pressed" from="调试层/手持建筑物/切换到_试作型电弧防御塔" to="." method="_on_切换到_试作型电弧防御塔_pressed"]
[connection signal="pressed" from="调试层/手持建筑物/切换到_建筑房子" to="." method="_on_切换到_建筑房子_pressed"]
[connection signal="pressed" from="调试层/手持建筑物/切换到_无蓝图" to="." method="_on_切换到_无蓝图_pressed"]

[editable path="玩家角色"]
